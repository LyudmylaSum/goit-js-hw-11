{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n \n\nconst myKey = '52822111-b1008b71650d3ce195bc41da7';\nconst urlAdress = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  return axios(urlAdress, {\n    params: {\n      key: myKey,\n      q: query, \n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    }\n  })\n    .then(result => {\n      if (result.data.hits.length === 0) {\n            throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n        }\n      // console.log(result.data);\n      return result.data\n    })\n    .catch(error => {\n      // console.log(error.message);\n      throw error;\n    });\n}\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\nconst loaderContainer = document.querySelector(\".loader\");\nconst spinner = document.querySelector(\".spinner\"); \nconst spinnerBtn = document.querySelector(\".spinner-btn\");\n\nlet lightBox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt', \n    captionDelay: 250, \n    captionPosition: 'bottom',\n});\n\n\nexport function createGallery(images = []) {\n  galleryList.innerHTML = images\n    .map(\n      ({\n        webformatURL,\n        tags,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img  class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" \n                title=\"Title: ${tags.split(',')[0].trim()}  |  \n                Likes: ${likes.toLocaleString()}  |  \n                View: ${views.toLocaleString()}  |  \n                Comments: ${comments.toLocaleString()}  |  \n                Downloads: ${downloads.toLocaleString()}\"/>\n            </a>\n            <ul class=\"info-container\">\n                <li class=\"info-box\">\n                    <p class=\"info-title\">Likes</p>\n                    <p class=\"info-value\">${likes.toLocaleString()}</p>\n                </li>\n                <li class=\"info-box\">\n                    <p class=\"info-title\">View</p>\n                    <p class=\"info-value\">${views.toLocaleString()}</p>\n                </li>\n                 <li class=\"info-box\">\n                    <p class=\"info-title\">Comments</p>\n                    <p class=\"info-value\">${comments.toLocaleString()}</p>\n                </li>\n                <li class=\"info-box\">\n                    <p class=\"info-title\">Downloads</p>\n                    <p class=\"info-value\">${downloads.toLocaleString()}</p>\n                </li>\n            </ul>\n        </li>\n    `\n    )\n    .join('');\n\n  lightBox.refresh();\n}\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n  loaderContainer.hidden = false;\n}\n\nexport function hideLoader() {\n  loaderContainer.hidden = true;\n}\n\n","// key = 52822111-b1008b71650d3ce195bc41da7\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport  { getImagesByQuery } from './js/pixabay-api.js'\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector(\".form\");\n\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  \nconst query = event.target.elements.query.value.trim();\n\nif (query === '') {\n        iziToast.warning({\n            message: 'Please enter a search query!',\n            position: 'topCenter',\n            timeout: 3000,\n            backgroundColor: '#FFA000',\n      messageColor: 'white',\n        });\n        return; \n    }\n  \nclearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      if (!data.hits.length) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      createGallery(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        message: error.message,\n        position: 'topCenter',\n        timeout: 3000,\n        backgroundColor: '#EF4040',\n        messageColor: 'white',\n        close: false,\n      });\n    })\n    .finally(() => {\n      event.target.elements.query.value = '';\n      hideLoader();\n    });\n});"],"names":["myKey","urlAdress","getImagesByQuery","query","axios","result","error","galleryList","loaderContainer","lightBox","SimpleLightbox","createGallery","images","webformatURL","tags","largeImageURL","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","event","iziToast","data"],"mappings":"owBAGA,MAAMA,EAAQ,qCACRC,EAAY,2BAEX,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAMH,EAAW,CACtB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CACA,CAAG,EACE,KAAKE,GAAU,CACd,GAAIA,EAAO,KAAK,KAAK,SAAW,EAC1B,MAAM,IAAI,MAAM,0EAA0E,EAGhG,OAAOA,EAAO,IAChB,CAAC,EACA,MAAMC,GAAS,CAEd,MAAMA,CACR,CAAC,CACL,CCtBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAkB,SAAS,cAAc,SAAS,EACxC,SAAS,cAAc,UAAU,EAC9B,SAAS,cAAc,cAAc,EAExD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAC,EAGM,SAASC,EAAcC,EAAS,GAAI,CACzCL,EAAY,UAAYK,EACrB,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,4CAEgCJ,CAAa;AAAA,mDACNF,CAAY,UAAUC,CAAI;AAAA,gCAC7CA,EAAK,MAAM,GAAG,EAAE,CAAC,EAAE,MAAM;AAAA,yBAChCE,EAAM,gBAAgB;AAAA,wBACvBC,EAAM,gBAAgB;AAAA,4BAClBC,EAAS,gBAAgB;AAAA,6BACxBC,EAAU,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKXH,EAAM,gBAAgB;AAAA;AAAA;AAAA;AAAA,4CAItBC,EAAM,gBAAgB;AAAA;AAAA;AAAA;AAAA,4CAItBC,EAAS,gBAAgB;AAAA;AAAA;AAAA;AAAA,4CAIzBC,EAAU,gBAAgB;AAAA;AAAA;AAAA;AAAA,KAKtE,EACK,KAAK,EAAE,EAEVV,EAAS,QAAO,CAClB,CAEO,SAASW,GAAe,CAC7Bb,EAAY,UAAY,EAC1B,CAEO,SAASc,GAAa,CAC3Bb,EAAgB,OAAS,EAC3B,CAEO,SAASc,GAAa,CAC3Bd,EAAgB,OAAS,EAC3B,CC1DA,MAAMe,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEtB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,MAAM,MAAM,KAAI,EAEpD,GAAIrB,IAAU,GAAI,CACVsB,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,YACV,QAAS,IACT,gBAAiB,UACvB,aAAc,OACpB,CAAS,EACD,MACJ,CAEJL,EAAY,EACVC,EAAU,EAEVnB,EAAiBC,CAAK,EACnB,KAAKuB,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OACb,MAAM,IAAI,MACR,0EACV,EAEMf,EAAce,EAAK,IAAI,CACzB,CAAC,EACA,MAAMpB,GAAS,CACdmB,EAAS,MAAM,CACb,QAASnB,EAAM,QACf,SAAU,YACV,QAAS,IACT,gBAAiB,UACjB,aAAc,QACd,MAAO,EACf,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbkB,EAAM,OAAO,SAAS,MAAM,MAAQ,GACpCF,EAAU,CACZ,CAAC,CACL,CAAC"}